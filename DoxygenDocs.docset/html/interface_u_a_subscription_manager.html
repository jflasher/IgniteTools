<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Ignite Tools: UASubscriptionManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ASLogo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Ignite Tools</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">UASubscriptionManager Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="UASubscriptionManager" --><!-- doxytag: inherits="UAObservable" -->
<p>This class provides the primary interface for interacting with the Urban Airship subscription functionality.  
 <a href="interface_u_a_subscription_manager.html#details">More...</a></p>

<p><code>#import &lt;<a class="el" href="_u_a_subscription_manager_8h_source.html">UASubscriptionManager.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for UASubscriptionManager:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_u_a_subscription_manager.png" usemap="#UASubscriptionManager_map" alt=""/>
  <map id="UASubscriptionManager_map" name="UASubscriptionManager_map">
<area href="interface_u_a_observable.html" alt="UAObservable" shape="rect" coords="0,0,150,24"/>
</map>
 </div></div>

<p><a href="class_u_a_subscription_manager-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="properties"></a>
Properties</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Inventory</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>---------------------------------------------------------------------------------------</p>
<p>--------------------------------------------------------------------------------------- </p>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aae4c35b10d047278cc7955887a88dc5c"></a><!-- doxytag: member="UASubscriptionManager::inventory" ref="aae4c35b10d047278cc7955887a88dc5c" args="" -->
<a class="el" href="interface_u_a_subscription_inventory.html">UASubscriptionInventory</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_u_a_subscription_manager.html#aae4c35b10d047278cc7955887a88dc5c">inventory</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The inventory of subscriptions (and their products and contents) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6c1d7c0ebe788251aa386fad4a8b3787"></a><!-- doxytag: member="UASubscriptionManager::pendingProduct" ref="a6c1d7c0ebe788251aa386fad4a8b3787" args="" -->
<a class="el" href="interface_u_a_subscription_product.html">UASubscriptionProduct</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>pendingProduct</b></td></tr>
<tr><td colspan="2"><div class="groupHeader">Downloads</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>---------------------------------------------------------------------------------------</p>
<p>--------------------------------------------------------------------------------------- </p>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a84b4ae29bf078b84f29f0f322d3a73cb"></a><!-- doxytag: member="UASubscriptionManager::downloadManager" ref="a84b4ae29bf078b84f29f0f322d3a73cb" args="" -->
<a class="el" href="interface_u_a_subscription_download_manager.html">UASubscriptionDownloadManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>downloadManager</b></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Singleton</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp6ff5f73c8b5ebd311406568c8ef50bfd"></a>---------------------------------------------------------------------------------------</p>
<p>--------------------------------------------------------------------------------------- </p>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_u_a_subscription_manager.html">UASubscriptionManager</a> *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_u_a_subscription_manager.html#af3ac132bdcea4ddd2092e39304beec46">shared</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Singleton initializer.  <a href="#af3ac132bdcea4ddd2092e39304beec46"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a506c7272bdfb237e54d4206fb5611876"></a><!-- doxytag: member="UASubscriptionManager::forceRelease" ref="a506c7272bdfb237e54d4206fb5611876" args="()" -->
(void)&#160;</td><td class="memItemRight" valign="bottom">- <b>forceRelease</b></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
UI and Initialization</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp1f1763a9791df7cdf6695a438d21ff60"></a>---------------------------------------------------------------------------------------</p>
<p>--------------------------------------------------------------------------------------- </p>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a76342a618671bddc00942fb25cb5c21a"></a><!-- doxytag: member="UASubscriptionManager::useCustomUI:" ref="a76342a618671bddc00942fb25cb5c21a" args="(Class customUIClass)" -->
(void)&#160;</td><td class="memItemRight" valign="bottom">+ <b>useCustomUI:</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac1caba563f579c67ae10c8998b08ef95"></a><!-- doxytag: member="UASubscriptionManager::displaySubscription:animated:" ref="ac1caba563f579c67ae10c8998b08ef95" args="(UIViewController *viewController,[animated] BOOL animated)" -->
(void)&#160;</td><td class="memItemRight" valign="bottom">+ <b>displaySubscription:animated:</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9066061cd61b371114aca846b1c2d1e4"></a><!-- doxytag: member="UASubscriptionManager::hideSubscription" ref="a9066061cd61b371114aca846b1c2d1e4" args="()" -->
(void)&#160;</td><td class="memItemRight" valign="bottom">+ <b>hideSubscription</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a719b2e4adab155de107de28c6dd7deb5"></a><!-- doxytag: member="UASubscriptionManager::land" ref="a719b2e4adab155de107de28c6dd7deb5" args="()" -->
(void)&#160;</td><td class="memItemRight" valign="bottom">+ <b>land</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_u_a_subscription_manager.html#aade8756bff02f05ee9ab68a7e8b4fde0">setDownloadDirectory:</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a custom download directory, creating it if necessary.  <a href="#aade8756bff02f05ee9ab68a7e8b4fde0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_u_a_subscription_manager.html#a591545fc192cbaa6dc815bf78ede047f">setDownloadDirectory:withProductIDSubdir:</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a custom download directory.  <a href="#a591545fc192cbaa6dc815bf78ede047f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab06fa33e66ec08f4e6fd0828da3f9dd2"></a><!-- doxytag: member="UASubscriptionManager::uiClass" ref="ab06fa33e66ec08f4e6fd0828da3f9dd2" args="()" -->
(Class)&#160;</td><td class="memItemRight" valign="bottom">- <b>uiClass</b></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Purchase and Restore Subscriptions</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpcb1577d094cc7aabc2ae200a526674b4"></a>---------------------------------------------------------------------------------------</p>
<p>--------------------------------------------------------------------------------------- </p>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af9c8e46dcc38fc630198923f200bf6ee"></a><!-- doxytag: member="UASubscriptionManager::transactionObserver" ref="af9c8e46dcc38fc630198923f200bf6ee" args="" -->
<a class="el" href="interface_u_a_subscription_observer.html">UASubscriptionObserver</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>transactionObserver</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_u_a_subscription_manager.html#a0d30691c5dbe1df72d72d0fd731ef8cc">purchase:</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Purchase a subscription product.  <a href="#a0d30691c5dbe1df72d72d0fd731ef8cc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_u_a_subscription_manager.html#a35e1e4ad7cb979ed0aeadcaf16145dfe">purchaseProductWithId:</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Purchase a subscription product.  <a href="#a35e1e4ad7cb979ed0aeadcaf16145dfe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad6823063cb5d0e6983bd46a2f2fee055"></a><!-- doxytag: member="UASubscriptionManager::setPendingSubscription:" ref="ad6823063cb5d0e6983bd46a2f2fee055" args="(UASubscriptionProduct *product)" -->
(void)&#160;</td><td class="memItemRight" valign="bottom">- <b>setPendingSubscription:</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0ee2277a8d8332db2b474c4b9efddb57"></a><!-- doxytag: member="UASubscriptionManager::purchasePendingSubscription" ref="a0ee2277a8d8332db2b474c4b9efddb57" args="()" -->
(void)&#160;</td><td class="memItemRight" valign="bottom">- <b>purchasePendingSubscription</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_u_a_subscription_manager.html#a9edb9ce0de60e1f16de38ab47cfc7d3f">restoreAutorenewables</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Restores all autorenewable purchases for this user.  <a href="#a9edb9ce0de60e1f16de38ab47cfc7d3f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_u_a_subscription_manager.html#a43d4779b12cff12cc5fbdd38efec4596">loadSubscription</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the product inventory, the available content and the user's purchases.  <a href="#a43d4779b12cff12cc5fbdd38efec4596"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a048ba9ac573a8601f068b22256d94e67"></a><!-- doxytag: member="UASubscriptionManager::enterForeground" ref="a048ba9ac573a8601f068b22256d94e67" args="()" -->
(void)&#160;</td><td class="memItemRight" valign="bottom">- <b>enterForeground</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad94857b65d5ad38d2be3efadee8c310f"></a><!-- doxytag: member="UASubscriptionManager::enterBackground" ref="ad94857b65d5ad38d2be3efadee8c310f" args="()" -->
(void)&#160;</td><td class="memItemRight" valign="bottom">- <b>enterBackground</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab2d382f3124ce1b9060a6cc885181a7b"></a><!-- doxytag: member="UASubscriptionManager::subscriptionWillEnterForeground" ref="ab2d382f3124ce1b9060a6cc885181a7b" args="()" -->
(void)&#160;</td><td class="memItemRight" valign="bottom">- <b>subscriptionWillEnterForeground</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad3454c07dddafe34eaa7ada74353055d"></a><!-- doxytag: member="UASubscriptionManager::subscriptionWillEnterBackground" ref="ad3454c07dddafe34eaa7ada74353055d" args="()" -->
(void)&#160;</td><td class="memItemRight" valign="bottom">- <b>subscriptionWillEnterBackground</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac0c25a2f194976bddf4c854c96943d5d"></a><!-- doxytag: member="UASubscriptionManager::subscriptionsUpdated:" ref="ac0c25a2f194976bddf4c854c96943d5d" args="(NSArray *subscriptions)" -->
(void)&#160;</td><td class="memItemRight" valign="bottom">- <b>subscriptionsUpdated:</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a59b18fc02a63ae3c6eb0bb980cfcb3fb"></a><!-- doxytag: member="UASubscriptionManager::userSubscriptionsUpdated:" ref="a59b18fc02a63ae3c6eb0bb980cfcb3fb" args="(NSArray *userSubscritions)" -->
(void)&#160;</td><td class="memItemRight" valign="bottom">- <b>userSubscriptionsUpdated:</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5075de52528a12ec67f007144a3e9e32"></a><!-- doxytag: member="UASubscriptionManager::inventoryUpdateFailedWithError:" ref="a5075de52528a12ec67f007144a3e9e32" args="(NSError *error)" -->
(void)&#160;</td><td class="memItemRight" valign="bottom">- <b>inventoryUpdateFailedWithError:</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a60ff30ec41c65bb447be19431418c835"></a><!-- doxytag: member="UASubscriptionManager::purchaseProductFinished:" ref="a60ff30ec41c65bb447be19431418c835" args="(UASubscriptionProduct *product)" -->
(void)&#160;</td><td class="memItemRight" valign="bottom">- <b>purchaseProductFinished:</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac47de6b3778ea6fe9239d0ceafc66ab2"></a><!-- doxytag: member="UASubscriptionManager::purchaseProductFailed:withError:" ref="ac47de6b3778ea6fe9239d0ceafc66ab2" args="(UASubscriptionProduct *product,[withError] NSError *error)" -->
(void)&#160;</td><td class="memItemRight" valign="bottom">- <b>purchaseProductFailed:withError:</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a566c89adf1d1c6c8d375c30397bc4159"></a><!-- doxytag: member="UASubscriptionManager::downloadContentFinished:" ref="a566c89adf1d1c6c8d375c30397bc4159" args="(UASubscriptionContent *content)" -->
(void)&#160;</td><td class="memItemRight" valign="bottom">- <b>downloadContentFinished:</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0289cf2d944d2018f5bc5add5b240710"></a><!-- doxytag: member="UASubscriptionManager::downloadContentFailed:" ref="a0289cf2d944d2018f5bc5add5b240710" args="(UASubscriptionContent *content)" -->
(void)&#160;</td><td class="memItemRight" valign="bottom">- <b>downloadContentFailed:</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a26a03a8e5f801452cbd0aca3b5fe4da5"></a><!-- doxytag: member="UASubscriptionManager::restoreAutorenewablesFinished:" ref="a26a03a8e5f801452cbd0aca3b5fe4da5" args="(NSArray *productsRestored)" -->
(void)&#160;</td><td class="memItemRight" valign="bottom">- <b>restoreAutorenewablesFinished:</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9e11c2f62daff899f370aa15257c0f1c"></a><!-- doxytag: member="UASubscriptionManager::restoreAutorenewableProductFailed:" ref="a9e11c2f62daff899f370aa15257c0f1c" args="(UASubscriptionProduct *product)" -->
(void)&#160;</td><td class="memItemRight" valign="bottom">- <b>restoreAutorenewableProductFailed:</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0cb1627f7108725b99be317500dd1302"></a><!-- doxytag: member="UASubscriptionManager::restoreAutorenewablesFailedWithError:" ref="a0cb1627f7108725b99be317500dd1302" args="(NSError *error)" -->
(void)&#160;</td><td class="memItemRight" valign="bottom">- <b>restoreAutorenewablesFailedWithError:</b></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This class provides the primary interface for interacting with the Urban Airship subscription functionality. </p>
<p>It provides support for both autorenewable and non-autorenewable subscriptions.</p>
<p>Register a <a class="el" href="protocol_u_a_subscription_manager_observer-p.html">UASubscriptionManagerObserver</a> to receive notifications when products, subsriptions or their contents change. </p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a43d4779b12cff12cc5fbdd38efec4596"></a><!-- doxytag: member="UASubscriptionManager::loadSubscription" ref="a43d4779b12cff12cc5fbdd38efec4596" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) loadSubscription </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Loads the product inventory, the available content and the user's purchases. </p>
<p>This is an asynchronous task. Register a <a class="el" href="protocol_u_a_subscription_manager_observer-p.html">UASubscriptionManagerObserver</a> to receive status updates for this process. </p>

</div>
</div>
<a class="anchor" id="a0d30691c5dbe1df72d72d0fd731ef8cc"></a><!-- doxytag: member="UASubscriptionManager::purchase:" ref="a0d30691c5dbe1df72d72d0fd731ef8cc" args="(UASubscriptionProduct *product)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) purchase: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_u_a_subscription_product.html">UASubscriptionProduct</a> *)&#160;</td>
          <td class="paramname"><em>product</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Purchase a subscription product. </p>
<p>Register a <a class="el" href="protocol_u_a_subscription_manager_observer-p.html">UASubscriptionManagerObserver</a> to receive status updates for this process.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">product</td><td>The subscription product to purchase </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a35e1e4ad7cb979ed0aeadcaf16145dfe"></a><!-- doxytag: member="UASubscriptionManager::purchaseProductWithId:" ref="a35e1e4ad7cb979ed0aeadcaf16145dfe" args="(NSString *productId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) purchaseProductWithId: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>productId</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Purchase a subscription product. </p>
<p>Register a <a class="el" href="protocol_u_a_subscription_manager_observer-p.html">UASubscriptionManagerObserver</a> to receive status updates for this process.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">product</td><td>The product ID to purchase </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9edb9ce0de60e1f16de38ab47cfc7d3f"></a><!-- doxytag: member="UASubscriptionManager::restoreAutorenewables" ref="a9edb9ce0de60e1f16de38ab47cfc7d3f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) restoreAutorenewables </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Restores all autorenewable purchases for this user. </p>
<p>This triggers a StoreKit restore process, which requests receipts for all the autorenewable subscription products that this user has ever purchased.</p>
<p>Once received, the receipts are submitted to Urban Airship so that the appropriate access may be granted. If the user is restoring purchases from another device, this device's user will be merged into the original UA user based on their iTunes account.</p>
<p>Register a <a class="el" href="protocol_u_a_subscription_manager_observer-p.html">UASubscriptionManagerObserver</a> to receive status updates for this process. </p>

</div>
</div>
<a class="anchor" id="aade8756bff02f05ee9ab68a7e8b4fde0"></a><!-- doxytag: member="UASubscriptionManager::setDownloadDirectory:" ref="aade8756bff02f05ee9ab68a7e8b4fde0" args="(NSString *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) setDownloadDirectory: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>path</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set a custom download directory, creating it if necessary. </p>
<p>Creates a product ID subdirectory if the product ID is specified in the Urban Airship content information.</p>
<p>The default directory is defined as kUADownloadDirectory: &lt;library directory&gt;=""&gt;/ua/downloads/</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The custom download directory (with trailing slash) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>YES if the path was successfully set (exists or created) </dd></dl>

</div>
</div>
<a class="anchor" id="a591545fc192cbaa6dc815bf78ede047f"></a><!-- doxytag: member="UASubscriptionManager::setDownloadDirectory:withProductIDSubdir:" ref="a591545fc192cbaa6dc815bf78ede047f" args="(NSString *path,[withProductIDSubdir] BOOL makeSubdir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) setDownloadDirectory: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>path</em></td>
        </tr>
        <tr>
          <td class="paramkey">withProductIDSubdir:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>makeSubdir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set a custom download directory. </p>
<p>Optionally creates a product ID subdirectory if the product ID is specified in the Urban Airship content information.</p>
<p>The default directory is defined as kUADownloadDirectory: &lt;library directory&gt;=""&gt;/ua/downloads/</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The custom download directory (with trailing slash) </td></tr>
    <tr><td class="paramname">makeSubdir</td><td>If YES, creates a subdirectory named with the content key *OR* the product ID, if available </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>YES if the path was successfully set (exists or created) </dd></dl>

</div>
</div>
<a class="anchor" id="af3ac132bdcea4ddd2092e39304beec46"></a><!-- doxytag: member="UASubscriptionManager::shared" ref="af3ac132bdcea4ddd2092e39304beec46" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (<a class="el" href="interface_u_a_subscription_manager.html">UASubscriptionManager</a>*) shared </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Singleton initializer. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The singleton instance. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Shared/Airship/Library/SubscriptionLib/<a class="el" href="_u_a_subscription_manager_8h_source.html">UASubscriptionManager.h</a></li>
</ul>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Properties</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Tue Aug 30 2011 10:11:55 for Ignite Tools by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
